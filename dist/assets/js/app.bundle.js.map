{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Character.js","webpack:///./src/PlayersDash.js","webpack:///./src/Story.js","webpack:///./src/Terminal.js","webpack:///./src/Tools.js","webpack:///./src/index.js"],"names":["Character","name","type","race","level","class","stats","str","dex","con","int","wis","chr","baseStats","initative","speed","armourClass","baseHP","maxHP","tempHP","shown","json","Object","keys","k","create","s","p","Math","ceil","points","percentage","floor","module","exports","require","tools","PlayersDash","anchors","cards","characterList","colors","hp","n","character","toLowerCase","match","watched","render","c","push","root","VDN","addChild","makeCharacterHeader","makeBaseStats","makeCharacterStats","makeCharacterSubHeading","makeCharacterHP","map","card","style","display","innerHTML","characterSet","filter","x","length","slice","i","borderTopColor","appendChild","makeCharacter","makeFlexVDN","setDim","setMargin","left","right","makeIconVDN","container","top","addText","subtitle","icons","bottom","cs","mods","modifier","modifiers","modText","makeDivVDN","borderTop","HP","color","pbc","className","children","width","height","t","Story","contentAnchor","titleAnchor","progressAnchor","currentChapter","characters","chapters","bootstrapColors","ch","raw","replace","jmpIcon","m","g1","g2","o","col","indexOf","g","console","log","chapter","renderedContent","markdownify","innerText","title","links","document","getElementsByClassName","e","addEventListener","jump","parseInt","id","split","Terminal","inputAnchor","outputAnchor","output","input","scrollPos","commands","rollDice","clear","pos","history","event","registerKeyDown","key","keyCode","charCode","value","execute","result","createElement","fontSize","margin","clientHeight","scrollTop","cmd","l","exec","writeError","bind","args","d","rolls","Array","fill","getRndInteger","writeOutput","sum","join","change","handler","set","obj","prop","Proxy","tagName","attributes","tag","w","h","marginLeft","marginRight","marginTop","marginBottom","text","size","setAttribute","child","dir","jc","ai","div","flexDirection","justifyContent","alignItems","tt","a","icon","min","max","random","reduce","v","test_story","story","terminal","storyDriver","content","getElementById","progress","loadFromJson","next","prev","terminalDriver","playersDashDriver","playersDash","buildFromJson","newCharacter","init","window","onload"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","class Character {\n  constructor() {\n    this.name = null;\n    this.type = null;\n    this.race = null;\n    this.level = null;\n    this.class = null;\n    this.stats = {\n      str:null,\n      dex:null,\n      con:null,\n      int:null,\n      wis:null,\n      chr:null\n    };\n    this.baseStats = {\n      initative: null,\n      speed: null,\n      armourClass: null\n    };\n    this.baseHP = 0;\n    this.maxHP = null;\n    this.tempHP = 0;\n    this.shown = false;\n  }\n  buildFromJson(json) {\n    for(let k of Object.keys(json)) {\n      if(typeof json[k] == \"object\")\n        this[k] = Object.create(json[k]);\n      else\n        this[k] = json[k];\n    }\n  }\n  giveTempHP(s) {\n    if (s < 0) s = 0;\n    this.tempHP = s;\n    this.baseHP += this.tempHP;\n  }\n  clearState() {\n    this.tempHP = 0\n    if(this.baseHP > this.maxHP) this.baseHP = this.maxHP;\n  }\n  set HP(s) {\n    if (s<0) {\n      this.baseHP = 0;\n      return;\n    }\n    if (s > (this.maxHP+this.tempHP)) this.baseHP = (this.maxHP+this.tempHP);\n    else this.baseHP = s;\n  }\n  get HP() {\n    let p = Math.ceil(this.baseHP/(this.maxHP+this.tempHP)*100);\n    return {\n      points: this.baseHP,\n      percentage: p\n    };\n  }\n  get modifiers() {\n    return {\n      str:Math.floor(this.stats.str/2)-5,\n      dex:Math.floor(this.stats.dex/2)-5,\n      con:Math.floor(this.stats.con/2)-5,\n      int:Math.floor(this.stats.int/2)-5,\n      wis:Math.floor(this.stats.wis/2)-5,\n      chr:Math.floor(this.stats.chr/2)-5\n    };\n  }\n}\n\nmodule.exports = Character\n","const Character = require('./Character')\nconst tools = require('./Tools')\n\nclass PlayersDash {\n  constructor(anchors){\n    this.cards = anchors;\n    this.characterList = [];\n    this.colors = {\n      \"NPC\": \"var(--info)\",\n      \"Player\": \"var(--success)\",\n      \"Enemy\": \"var(--danger)\",\n      \"HP\": (hp) => {\n        if (hp >= 50) return \"bg-success\";\n        if (hp >= 20) return \"bg-warning\";\n        return \"bg-danger\";\n      }\n    }\n  }\n\n  getCharacter(n) {\n    for(let character of this.characterList) {\n      if(character.name.toLowerCase().match(n))\n        return tools.watched(character,this.render);\n    }\n    return null;\n  }\n\n  newCharacter(c) {\n    this.characterList.push(c);\n    this.render();\n  }\n  makeCharacter(c) {\n    let root = tools.VDN(\"div\");\n    root.addChild(this.makeCharacterHeader(c));\n    root.addChild(this.makeBaseStats(c));\n    root.addChild(this.makeCharacterStats(c));\n    root.addChild(this.makeCharacterSubHeading(\"HP\"));\n    root.addChild(this.makeCharacterHP(c));\n    return root;\n  }\n  render() {\n      // hide and clear\n      this.cards.map((card) => {\n        card.style.display = \"none\";\n        card.innerHTML = \"\";\n      });\n\n      // get characters\n      let characterSet = this.characterList.filter((x)=>x.shown);\n      if(characterSet.length > this.cards.length)\n        characterSet = characterSet.slice(0,this.cards.length);\n\n      // build card from sub components\n      this.cards.map((card,i)=>{\n        if (i <= characterSet.length - 1) {\n          card.style.borderTopColor = this.colors[characterSet[i].type];\n          card.appendChild(this.makeCharacter(characterSet[i]).render());\n        }\n      });\n\n      // display\n      this.cards.map((x)=>x.style.display = \"block\");\n  }\n\n  makeBaseStats(character) {\n    let baseStats = tools.makeFlexVDN(\"row\",\"space-around\",\"center\");\n    baseStats.setDim(\"calc(100% - 2rem)\",\"15%\");\n    baseStats.setMargin({left:\"1rem\",right:\"1rem\"});\n    baseStats.addChild(tools.makeIconVDN(\"shield\",\"AC\"));\n    return baseStats;\n  }\n\n  makeCharacterHeader(character) {\n      let container = tools.makeFlexVDN(\"column\",\"center\",\"center\");\n      container.setDim(\"100%\",\"25%\").setMargin({top:\"5%\"});\n      container.addText(\"h6\",character.name,\"\",\"1rem\");\n      let subtitle = `Level ${character.level} ${character.race} ${character.class}`;\n      container.addText(\"p\",subtitle,\"lead\",\"0.8rem\");\n      return container;\n  }\n\n  makeCharacterStats(character) {\n    let icons = tools.makeFlexVDN(\"row\",\"space-between\",\"center\");\n    icons.setDim(\"calc(100% - 2rem)\",\"26%\");\n    icons.setMargin({top:\"1%\",bottom:\"0%\",left:\"1rem\",right:\"1rem\"});\n    let stats = {\n      \"str\":\"sword\",\n      \"dex\":\"run-fast\",\n      \"con\":\"heart-half-full\",\n      \"int\":\"atom\",\n      \"wis\":\"earth\",\n      \"chr\":\"forum\"\n    }\n    Object.keys(stats).map((x)=>{\n      let cs = character.stats[x];\n      icons.addChild(tools.makeIconVDN(stats[x],`${x}: ${cs}`))\n    })\n    let mods = tools.makeFlexVDN(\"row\",\"space-between\",\"center\");\n    mods.setDim(\"calc(100% - 2rem)\",\"26%\");\n    mods.setMargin({top:\"1%\",left:\"1rem\",right:\"1rem\"});\n    Object.keys(stats).map((x)=>{\n      let modifier = character.modifiers[x];\n      let modText = null;\n      if (modifier > 0)\n        modText = tools.makeDivVDN().addText(\"p\",`+${modifier}`,\"lead faint text-success\",\"0.7rem\");\n      else if (modifier < 0)\n        modText = tools.makeDivVDN().addText(\"p\",`${modifier}`,\"lead faint text-danger\",\"0.7rem\");\n      else\n        modText = tools.makeDivVDN().addText(\"p\",`${modifier}`,\"lead faint\",\"0.7rem\");\n      mods.addChild(modText)\n    })\n    let container = tools.makeFlexVDN(\"column\",\"center\",\"center\");\n    container.setMargin({top:\"2%\",left:\"1rem\",right:\"1rem\"});\n    container.addChild(icons);\n    container.addChild(mods);\n    container.style.borderTop = \"solid #EBEBEB 2px\";\n    return container;\n  }\n\n  makeCharacterHP(character) {\n    let p = character.HP.percentage;\n    let color = this.colors.HP(p);\n    let container = tools.makeDivVDN().setDim(\"calc(100% - 2rem)\",\"0.3rem\");\n    container.setMargin({left: \"1rem\",right: \"1rem\"});\n    let pbc = tools.makeDivVDN({className:\"progress\"});\n    pbc.setDim(\"100%\",\"100%\");\n    pbc.addChild(tools.makeDivVDN({className:`progress-bar ${color}`}));\n    pbc.children[0].style.width = p+\"%\";\n    pbc.children[0].style.height = \"100%\";\n    container.addChild(pbc);\n    return container;\n  }\n\n  makeCharacterSubHeading(t) {\n    let container = tools.makeDivVDN();\n    container.addText(\"p\",t,\"lead\",\"0.8rem\");\n    container.setMargin({left:\"1.5rem\",top:\"1rem\",bottom:\"0.4rem\"});\n    return container;\n  }\n}\n\n\nmodule.exports = PlayersDash\n","const tools = require('./Tools')\n\nclass Story {\n  constructor(contentAnchor,titleAnchor,progressAnchor){\n    this.contentAnchor = contentAnchor\n    this.titleAnchor = titleAnchor\n    this.progressAnchor = progressAnchor\n    this.currentChapter = null\n    this.characters = []\n    this.chapters = []\n    this.bootstrapColors = [\n      \"danger\",\n      \"success\",\n      \"warning\",\n      \"info\",\n      \"primary\",\n      \"secondary\"\n    ]\n  }\n  loadFromJson(json){\n    this.chapters = json.chapters\n    this.currentChapter = json.currentChapter\n    this.characters = json.characters\n  }\n  markdownify(ch) {\n    let raw = this.chapters[ch].raw\n    raw = raw.replace(/_(.*?)_/gi,\"<i>$1</i>\").replace(/\\*(.*?)\\*/gi,\"<b>$1</b>\")\n    raw = raw.replace(/\\-\\-\\-+/gi,\"<hr>\")\n    let jmpIcon = \"<a data-balloon='Chapter $1' data-balloon-pos='up'><i class='mdi mdi-share chapter-link jmp-link' id='jmp-link-$1'></i><a><br>\"\n    raw = raw.replace(/\\<(\\d+)\\>/gi,jmpIcon)\n    raw = raw.replace(/\\[([^\\[\\]]*)\\]\\s*\\\"(.*?)\\\"/gi,(m,g1,g2,o,s)=>{\n      let col = this.characters[g1.toLowerCase()]\n      if (this.bootstrapColors.indexOf(col) == -1)\n        return `<blockquote style=\"color: ${col}; border-left-color: ${col}\"><b>${g1}:</b> ${g2}</blockquote>`\n      return `<blockquote style=\"border-left-color: var(--${col})\" class=\"text-${col}\"><b>${g1}:</b> ${g2}</blockquote>`\n    })\n    raw = raw.replace(/\\[([^\\[\\]]*)\\]/gi,(m,g,o,s)=>{\n      let col = this.characters[g.toLowerCase()]\n      if (this.bootstrapColors.indexOf(col) == -1)\n        return `<span style=\"color: ${col}\"><b>${g}</b></span>`\n      return `<span class=\"text-${col}\"><b>${g}</b></span>`\n    })\n    return raw\n  }\n  render() {\n    if (!this.contentAnchor || !this.titleAnchor || !this.progressAnchor) {\n      console.log(\"Missing Anchors, Aborting render\");\n      return;\n    }\n    let chapter = this.chapters[this.currentChapter]\n    let renderedContent = this.markdownify(this.currentChapter)\n    this.contentAnchor.innerHTML = renderedContent\n    this.titleAnchor.innerText = `${this.currentChapter+1}. ${chapter.title}`\n    let p = (this.currentChapter+1)/this.chapters.length\n    p *= 100\n    p += \"%\"\n    this.progressAnchor.style.width = p\n    // set up jump links\n    let links = document.getElementsByClassName(\"jmp-link\");\n    for(let e of links) {\n      e.addEventListener(\"click\",()=>{\n        this.jump(parseInt(e.id.split(\"-\")[2])-1)\n      });\n    }\n  }\n  next() {\n    if (this.currentChapter >= this.chapters.length-1) return;\n    this.currentChapter++;\n    this.render();\n  }\n  prev() {\n    if (this.currentChapter <= 0) return;\n    this.currentChapter--;\n    this.render();\n  }\n  jump(ch) {\n    if (ch > this.chapters.length-1) return;\n    if (ch < 0) return;\n    this.currentChapter = ch;\n    this.render();\n  }\n}\n\nmodule.exports = Story\n","const tools = require('./Tools')\n\nclass Terminal {\n  constructor(inputAnchor,outputAnchor) {\n    this.output = outputAnchor\n    this.input = inputAnchor\n    this.scrollPos = 0;\n    this.commands = [\n      [/roll (\\d+) d(\\d+)/,this.rollDice],\n      [/r (\\d+) d(\\d+)/,this.rollDice],\n      [/clear/,this.clear]\n    ]\n    this.pos = null;\n    this.history = [];\n    this.input.addEventListener(\"keydown\",(event)=>this.registerKeyDown(event));\n  }\n  registerKeyDown(event) {\n    let key = event.keyCode || event.charCode;\n    // up/down\n    if (key == 38 || key == 40) {\n        if (this.history.length == 0) return;\n        if (key == 38) {\n          if (this.pos === null) this.pos = this.history.length-1\n          else if (this.pos > 0) this.pos--\n        } else {\n          if (this.pos === null) return;\n          else if (this.pos < this.history.length-1) this.pos++\n          else if (this.pos == this.history.length-1) {\n            this.pos = null;\n            this.input.value = \"\";\n            return;\n          }\n        }\n        this.input.value = this.history[this.pos]\n    } else {\n      this.pos = null;\n    }\n    // enter\n    if (key == 13)\n      this.execute()\n  }\n  writeOutput(t) {\n    let result = document.createElement(\"p\");\n    result.className = \"lead\";\n    result.style.fontSize = \"1rem\";\n    result.style.margin = \"0px\";\n    result.innerText = t;\n    this.output.appendChild(result);\n    this.scrollPos += result.clientHeight;\n    this.output.scrollTop = this.scrollPos;\n  }\n  writeError(t) {\n    let result = document.createElement(\"p\");\n    result.className = \"lead text-danger\";\n    result.style.fontSize = \"1rem\";\n    result.style.margin = \"0px\";\n    result.innerText = t;\n    this.output.appendChild(result);\n    this.scrollPos += result.clientHeight;\n    this.output.scrollTop = this.scrollPos;\n  }\n  execute() {\n    let cmd = this.input.value;\n    this.history.push(cmd);\n    cmd = cmd.toLowerCase().replace(/\\s+/,\" \");\n    let l = this.commands.map((x)=>[x[0].exec(cmd),x[1]]).filter((x)=>x[0]);\n    let m = null;\n    if(l.length > 0) m = l[0];\n    else this.writeError(\"Unknown Command\");\n    if (m) m[1].bind(this)(m[0].slice(1));\n    this.input.value = \"\";\n  }\n\n  // commands\n  clear() {\n    this.output.innerHTML = \"\";\n    this.scrollPos = 0;\n  }\n\n  rollDice(args) {\n    let n = parseInt(args[0]);\n    let d = parseInt(args[1]);\n    let rolls = Array(n).fill(0).map((x)=>tools.getRndInteger(1,d+1));\n    if(n > 1) {\n       this.writeOutput(`${tools.sum(rolls)} (${rolls.join(\"+\")})`);\n       return;\n    }\n    this.writeOutput(tools.sum(rolls));\n  }\n\n}\n\nmodule.exports = Terminal;\n","function watched(o,change) {\n  let handler = {\n    set: (obj,prop,value) => {\n      obj[prop]=value\n      change(obj)\n    }\n  }\n  return new Proxy(o,handler)\n}\n\nfunction VDN(tagName) {\n  return {\n    style: {},\n    root:{},\n    attributes: {},\n    children: [],\n    tag: tagName,\n    setDim(w,h) {\n        this.style.width = w\n        this.style.height = h\n        return this\n    },\n\n    setMargin({left,right,top,bottom} = {left: \"0rem\",right: \"0rem\",top: \"0rem\",bottom: \"0rem\"}) {\n      this.style.marginLeft = left\n      this.style.marginRight = right\n      this.style.marginTop = top\n      this.style.marginBottom = bottom\n      return this\n    },\n    addChild(c) {\n      this.children.push(c)\n      return this\n    },\n    addText(tag,text,className,size) {\n      let t = VDN(tag);\n      t.root.innerHTML = text;\n      t.style.fontSize = size;\n      t.root.className = className;\n      t.style.margin = \"0px\";\n      this.addChild(t);\n      return this;\n    },\n    render() {\n      let e = document.createElement(this.tag)\n      for (let k in this.attributes)\n        e.setAttribute(k,this.attributes[k])\n      for (let k in this.style)\n        e.style[k]=this.style[k]\n      for (let k in this.root)\n        e[k]=this.root[k]\n      for (let child of this.children)\n        e.appendChild(child.render())\n      return e\n    }\n  }\n}\n\nfunction makeDivVDN({className} = {className:\"\"}) {\n  let d = VDN(\"div\")\n  d.root.className = className\n  return d\n}\n\nfunction makeFlexVDN(dir,jc,ai) {\n  let div = VDN(\"div\")\n  div.style.display = \"flex\"\n  div.style.flexDirection = dir\n  div.style.justifyContent = jc\n  div.style.alignItems = ai\n  return div\n}\n\nfunction makeIconVDN(i,tt) {\n  let a = VDN(\"a\")\n  a.attributes[\"data-balloon\"] = tt\n  a.attributes[\"data-balloon-pos\"] = \"up\"\n  let icon = VDN(\"i\")\n  icon.root.className = \"mdi mdi-\"+i\n  icon.style.color = \"#777\"\n  icon.style.fontSize = \"0.9rem\"\n  a.addChild(icon)\n  return a\n}\n\nfunction getRndInteger(min, max) {\n    return Math.floor(Math.random() * (max - min) ) + min;\n}\n\nfunction sum(l) {\n  return l.reduce((v,a)=>a+v)\n}\n\nmodule.exports = {\n  VDN: VDN,\n  makeDivVDN: makeDivVDN,\n  makeFlexVDN: makeFlexVDN,\n  makeIconVDN: makeIconVDN,\n  watched: watched,\n  sum: sum,\n  getRndInteger: getRndInteger\n}\n","const tools = require('./Tools')\nconst Story = require('./Story')\nconst test_story = require('./data/test_story.json')\nconst Terminal = require('./Terminal')\nconst PlayersDash = require('./PlayersDash')\nconst Character = require('./Character')\nconst characters = require('./data/test_characters.json')\n\n// globals\nlet story = null;\nlet terminal = null;\n\nfunction storyDriver(){\n  let content = document.getElementById(\"story-content\");\n  let title = document.getElementById(\"story-title\");\n  let progress = document.getElementById(\"story-progress\");\n  story = new Story(content,title,progress);\n  story.loadFromJson(test_story);\n  document.getElementById(\"chapter-next\").addEventListener(\"click\",()=>story.next());\n  document.getElementById(\"chapter-previous\").addEventListener(\"click\",()=>story.prev());\n  story.render();\n}\n\nfunction terminalDriver(){\n  let input = document.getElementById(\"terminal-input\");\n  let output = document.getElementById(\"terminal-output\");\n  let terminal = new Terminal(input,output);\n}\n\nfunction playersDashDriver(){\n  let cards = ['character-left','character-middle','character-right'];\n  cards = cards.map((x)=>document.getElementById(x));\n  let playersDash = new PlayersDash(cards);\n  characters.map((x)=>{\n    let c = new Character();\n    c.buildFromJson(x);\n    playersDash.newCharacter(c);\n  });\n}\n\nfunction init() {\n  storyDriver();\n  terminalDriver();\n  playersDashDriver();\n}\n\nwindow.onload = init;\n"],"sourceRoot":""}